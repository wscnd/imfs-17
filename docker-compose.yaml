version: "3"

services:
  product_db_dev:
    image: mysql:latest
    profiles: [apis]
    container_name: mysql_dev
    ports:
      - 3306:3306
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=product_db_dev
      - MYSQL_PASSWORD=root
    volumes:
      - .docker/mysql:/var/lib/mysql
    restart: always

  order_queue:
    image: rabbitmq:3.12-management
    profiles: [apis]
    container_name: rabbitmq
    hostname: rabbit
    ports:
      - 15672:15672
      - 5672:5672
    environment:
      - RABBITMQ_DEFAULT_USER=admin
      - RABBITMQ_DEFAULT_PASS=admin
    volumes:
      - .docker/rabbitmq:/var/lib/rabbitmq